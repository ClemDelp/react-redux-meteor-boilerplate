[{"type":"js","data":"/* Imports for global scope */\n\nMongoInternals = Package.mongo.MongoInternals;\nMongo = Package.mongo.Mongo;\nReactiveVar = Package['reactive-var'].ReactiveVar;\nTracker = Package.tracker.Tracker;\nDeps = Package.tracker.Deps;\nECMAScript = Package.ecmascript.ECMAScript;\nExpress = Package['glittershark:meteor-express'].Express;\nStreamy = Package['yuukan:streamy'].Streamy;\nMeteor = Package.meteor.Meteor;\nglobal = Package.meteor.global;\nmeteorEnv = Package.meteor.meteorEnv;\nWebApp = Package.webapp.WebApp;\nmain = Package.webapp.main;\nWebAppInternals = Package.webapp.WebAppInternals;\n_ = Package.underscore._;\nDDP = Package['ddp-client'].DDP;\nDDPServer = Package['ddp-server'].DDPServer;\nLaunchScreen = Package['launch-screen'].LaunchScreen;\nBlaze = Package.ui.Blaze;\nUI = Package.ui.UI;\nHandlebars = Package.ui.Handlebars;\nSpacebars = Package.spacebars.Spacebars;\nmeteorInstall = Package.modules.meteorInstall;\nBuffer = Package.modules.Buffer;\nprocess = Package.modules.process;\nSymbol = Package['ecmascript-runtime'].Symbol;\nMap = Package['ecmascript-runtime'].Map;\nSet = Package['ecmascript-runtime'].Set;\nmeteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;\nPromise = Package.promise.Promise;\nAutoupdate = Package.autoupdate.Autoupdate;\nHTML = Package.htmljs.HTML;\n\n","servePath":"/packages/global-imports.js"},{"type":"js","data":"var require = meteorInstall({\"imports\":{\"api\":{\"Log.js\":[\"meteor/mongo\",function(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// imports/api/Log.js                                                                                               //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nmodule.export({Log:function(){return Log}});var Mongo;module.import('meteor/mongo',{\"Mongo\":function(v){Mongo=v}});\n                                                                                                                    //\nvar Log = new Mongo.Collection('log');                                                                              // 3\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},\"server\":{\"main.js\":[\"meteor/meteor\",\"body-parser\",\"../imports/api/Log.js\",\"fibers\",function(require,exports,module){\n\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n//                                                                                                                  //\n// server/main.js                                                                                                   //\n//                                                                                                                  //\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n                                                                                                                    //\nvar Meteor;module.import('meteor/meteor',{\"Meteor\":function(v){Meteor=v}});var bodyParser;module.import('body-parser',{\"default\":function(v){bodyParser=v}});var Log;module.import('../imports/api/Log.js',{\"Log\":function(v){Log=v}});\n                                                                                                                    // 2\n                                                                                                                    // 3\nvar Fiber = require('fibers');                                                                                      // 4\n                                                                                                                    //\nif (Meteor.isServer) {                                                                                              // 6\n\tMeteor.startup(function () {                                                                                       // 7\n                                                                                                                    //\n\t\t// Demo                                                                                                           //\n\t\tsetInterval(function () {                                                                                         // 10\n\t\t\tvar y = Math.floor(Math.random() * 10);                                                                          // 11\n\t\t\tStreamy.broadcast('scoreStream', { 'y': y });                                                                    // 12\n\t\t}, 3000);                                                                                                         // 13\n                                                                                                                    //\n\t\t// Express                                                                                                        //\n\t\tapp = Express();                                                                                                  // 16\n\t\tapp.use(bodyParser.json()); // to support JSON-encoded bodies                                                     // 17\n\t\tapp.use(bodyParser.urlencoded({ // to support URL-encoded bodies                                                  // 18\n\t\t\textended: true                                                                                                   // 19\n\t\t}));                                                                                                              // 18\n                                                                                                                    //\n\t\t// Save server launch                                                                                             //\n\t\t// Test DB connection                                                                                             //\n\t\t// INSERT IN DB                                                                                                   //\n\t\tFiber(function () {                                                                                               // 25\n\t\t\tLog.insert({                                                                                                     // 26\n\t\t\t\tdatetime: new Date()                                                                                            // 27\n\t\t\t}, function (error, response) {                                                                                  // 26\n\t\t\t\tconsole.log('new log (id: ' + response + ') in db, total logs ---> ', Log.find().count());                      // 29\n\t\t\t});                                                                                                              // 30\n\t\t}).run();                                                                                                         // 31\n                                                                                                                    //\n\t\t// ROUTE                                                                                                          //\n\t\tapp.get('/hello', function (req, res) {                                                                           // 34\n\t\t\t// Test sream                                                                                                    //\n\t\t\tconsole.log('route /hello was called...');                                                                       // 36\n\t\t\tStreamy.broadcast('hello', { data: new Date().toLocaleTimeString() + ' - Hello from stream...' });               // 37\n\t\t\tres.json({ data: 'response from /hello...' });                                                                   // 38\n\t\t});                                                                                                               // 39\n\t});                                                                                                                // 40\n}                                                                                                                   // 41\n//////////////////////////////////////////////////////////////////////////////////////////////////////////////////////\n\n}]}},{\"extensions\":[\".js\",\".json\"]});\nrequire(\"./server/main.js\");","servePath":"/app.js","sourceMap":{"version":3,"sources":["/imports/api/Log.js","/server/main.js"],"names":[],"mappings":";;;;;;;;AAAA,SAAS,KAAT,QAAsB,cAAtB;;AAEA,OAAO,IAAM,MAAM,IAAI,MAAM,UAAV,CAAqB,KAArB,CAAZ,4E;;;;;;;;;;;ACFP,SAAS,MAAT,QAAuB,eAAvB;AACA,OAAO,UAAP,MAAuB,aAAvB;AACA,SAAS,GAAT,QAAoB,uBAApB;AACA,IAAM,QAAQ,QAAQ,QAAR,CAAd;;AAEA,IAAG,OAAO,QAAV,EAAoB;AACnB,QAAO,OAAP,CAAe,YAAM;;;AAGpB,cAAY,YAAY;AACvB,OAAM,IAAI,KAAK,KAAL,CAAW,KAAK,MAAL,KAAgB,EAA3B,CAAV;AACA,WAAQ,SAAR,CAAkB,aAAlB,EAAiC,EAAC,KAAK,CAAN,EAAjC;AACA,GAHD,EAGG,IAHH;;;AAMA,QAAM,SAAN;AACA,MAAI,GAAJ,CAAQ,WAAW,IAAX,EAAR,E;AACA,MAAI,GAAJ,CAAQ,WAAW,UAAX,CAAsB,E;AAC5B,aAAU;AADkB,GAAtB,CAAR;;;;;AAOA,QAAM,YAAY;AACjB,OAAI,MAAJ,CAAW;AACV,cAAU,IAAI,IAAJ;AADA,IAAX,EAEG,UAAU,KAAV,EAAiB,QAAjB,EAA2B;AAC7B,YAAQ,GAAR,CAAY,kBAAkB,QAAlB,GAA6B,2BAAzC,EAAsE,IAAI,IAAJ,GAAW,KAAX,EAAtE;AACA,IAJD;AAKA,GAND,EAMG,GANH;;;AASA,MAAI,GAAJ,CAAQ,QAAR,EAAkB,UAAU,GAAV,EAAe,GAAf,EAAoB;;AAErC,WAAQ,GAAR,CAAY,4BAAZ;AACA,WAAQ,SAAR,CAAkB,OAAlB,EAA2B,EAAC,MAAM,IAAI,IAAJ,GAAW,kBAAX,KAAkC,yBAAzC,EAA3B;AACA,OAAI,IAAJ,CAAS,EAAC,MAAM,yBAAP,EAAT;AACA,GALD;AAMA,EAjCD;AAkCA,yH","file":"/app.js","sourcesContent":["import { Mongo } from 'meteor/mongo'\n\nexport const Log = new Mongo.Collection('log')\n","import { Meteor } from 'meteor/meteor'\nimport bodyParser from 'body-parser'\nimport { Log } from '../imports/api/Log.js'\nconst Fiber = require('fibers')\n\nif(Meteor.isServer) {\n\tMeteor.startup(() => {\n\n\t\t// Demo\n\t\tsetInterval(function () {\n\t\t\tconst y = Math.floor(Math.random() * 10)\n\t\t\tStreamy.broadcast('scoreStream', {'y': y})\n\t\t}, 3000)\n\n\t\t// Express\n\t\tapp = Express()\n\t\tapp.use(bodyParser.json())       // to support JSON-encoded bodies\n\t\tapp.use(bodyParser.urlencoded({     // to support URL-encoded bodies\n\t\t  extended: true\n\t\t}))\n\n\t\t// Save server launch\n\t\t// Test DB connection\n\t\t// INSERT IN DB\n\t\tFiber(function () {\n\t\t\tLog.insert({\n\t\t\t\tdatetime: new Date()\n\t\t\t}, function (error, response) {\n\t\t\t\tconsole.log('new log (id: ' + response + ') in db, total logs ---> ', Log.find().count())\n\t\t\t})\n\t\t}).run()\n\n\t\t// ROUTE\n\t\tapp.get('/hello', function (req, res) {\n\t\t\t// Test sream\n\t\t\tconsole.log('route /hello was called...')\n\t\t\tStreamy.broadcast('hello', {data: new Date().toLocaleTimeString() + ' - Hello from stream...'})\n\t\t\tres.json({data: 'response from /hello...'})\n\t\t})\n\t})\n}\n"]}}]