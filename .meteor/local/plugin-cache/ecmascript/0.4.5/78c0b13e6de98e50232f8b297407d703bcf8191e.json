{"metadata":{"usedHelpers":[],"marked":[],"modules":{"imports":[],"exports":{"exported":["apiRequest","endpoint","cb","requestConfig"],"specifiers":[{"kind":"local","local":"apiRequest","exported":"apiRequest"},{"kind":"local","local":"endpoint","exported":"endpoint"},{"kind":"local","local":"cb","exported":"cb"},{"kind":"local","local":"requestConfig","exported":"requestConfig"}]}}},"options":{"filename":"/client/utils/api.js","filenameRelative":"/client/utils/api.js","env":{},"retainLines":false,"highlightCode":true,"suppressDeprecationMessages":false,"presets":[],"plugins":[[[],{"polyfill":false}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],{"loose":true}],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],{"loose":true}],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null],[[],null]],"ignore":[],"code":true,"metadata":true,"ast":false,"comments":true,"compact":false,"minified":false,"sourceMap":true,"sourceMaps":true,"sourceMapTarget":"/client/utils/api.js.map","sourceFileName":"/client/utils/api.js","babelrc":false,"sourceType":"module","moduleIds":false,"passPerPreset":false,"basename":"api"},"ignored":false,"code":"module.export({apiRequest:function(){return apiRequest}});// polyfills fetch on window object, if necessary\nrequire('whatwg-fetch');\nvar API_URL = '/api/';\nfunction apiRequest(endpoint) {\n  var requestConfig = arguments.length <= 1 || arguments[1] === undefined ? {} : arguments[1];\n  var cb = arguments[2];\n\n  // NOTE: assumes all calls are JSON in this API\n  requestConfig.headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  };\n  // NOTE: assumes body wasn't already stringified\n  if (requestConfig.body) {\n    requestConfig.body = JSON.stringify(requestConfig.body);\n  }\n  return window.fetch(API_URL + endpoint, requestConfig).then(checkResponseStatus).then(function (res) {\n    return res.json();\n  }).then(function (json) {\n    if (cb) cb(json);\n    return json || {};\n  });\n}","ast":null,"map":{"version":3,"sources":["/client/utils/api.js"],"names":[],"mappings":";AACA,QAAQ,cAAR;AACA,IAAM,UAAU,OAAhB;AACA,OAAO,SAAS,UAAT,CAAqB,QAArB,EAAuD;AAAA,MAAxB,aAAwB,yDAAR,EAAQ;AAAA,MAAJ,EAAI;;;AAE5D,gBAAc,OAAd,GAAwB;AACtB,cAAU,kBADY;AAEtB,oBAAgB;AAFM,GAAxB;;AAKA,MAAI,cAAc,IAAlB,EAAwB;AACtB,kBAAc,IAAd,GAAqB,KAAK,SAAL,CAAe,cAAc,IAA7B,CAArB;AACD;AACD,SAAO,OAAO,KAAP,CAAa,UAAU,QAAvB,EAAiC,aAAjC,EACN,IADM,CACD,mBADC,EAEN,IAFM,CAED;AAAA,WAAO,IAAI,IAAJ,EAAP;AAAA,GAFC,EAGN,IAHM,CAGD,gBAAQ;AACZ,QAAI,EAAJ,EAAQ,GAAG,IAAH;AACR,WAAO,QAAQ,EAAf;AACD,GANM,CAAP;AAOD","file":"/client/utils/api.js.map","sourcesContent":["// polyfills fetch on window object, if necessary\nrequire('whatwg-fetch')\nconst API_URL = '/api/'\nexport function apiRequest (endpoint, requestConfig = {}, cb) {\n  // NOTE: assumes all calls are JSON in this API\n  requestConfig.headers = {\n    'Accept': 'application/json',\n    'Content-Type': 'application/json'\n  }\n  // NOTE: assumes body wasn't already stringified\n  if (requestConfig.body) {\n    requestConfig.body = JSON.stringify(requestConfig.body)\n  }\n  return window.fetch(API_URL + endpoint, requestConfig)\n  .then(checkResponseStatus)\n  .then(res => res.json())\n  .then(json => {\n    if (cb) cb(json)\n    return json || {}\n  })\n}\n"]},"hash":"78c0b13e6de98e50232f8b297407d703bcf8191e"}
